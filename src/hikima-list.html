<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer.html">
 
<link rel="import" href="shared-styles.html">

<dom-module id="hikima-list">
  <template>
    <style include="shared-styles">

      /****** scheme *****/

      /*element {
        typography

        layout

        colors
      }*/

      :host {
        display: block;

        padding: 10px;
      }

      *{
        padding: 0;
        margin: 0;
        outline: none;
        box-sizing: border-box;
      }

       h3 {
         text-align: center;
         margin: 1% 0;
       }

       h3 + p{
         font-size: 16px;
         color: var(--secondary-text-color); 
          text-align: center;
       }

      .listing-link {
        text-decoration: none;
      }

      

      .card {
        letter-spacing: 1px;
        line-height: 24px;

        display: flex;
        margin-left: 0;
        margin-right: 0;
        min-height: 128px;
        padding: 16px;
        justify-content: space-between;
      }

      .card .text-info {
        flex-basis: 65%;
      }

      .card .title {
        font-size: 24px;

        color: var(--primary-text-color);        
      }

      .card .area{
        font-size: 14px;
        font-weight: 500;

        margin-bottom: 12px;

        color: var(--secondary-text-color);        
      }

      .card .status-label {
        font-size: 16px;

        color: var(--primary-text-color);
      }

      .card .status {
        font-size: 14px;
        font-weight: 500;

        color: var(--secondary-text-color); 
      }

      .card img {
        width: 25vw;
        height: 25vw;
      }

     
    </style>
     
    <div hidden$="[[failure]]">
      <h3>[[listingsCategory.title]]</h3>
        <p>[[numListings]]&nbsp;Listings(s)</p>
    </div> 
    <div hidden$="[[failure]]">
         <template is="dom-repeat" items="[[listingsCategory.items]]" as="listing">
            <a href$="/detail/[[listing.category]]/[[listing.name]]" class="listing-link">
                <div class="card">
                  <div class="text-info">
                    <p class="title">[[listing.title]]</p>
                    <p class="area">[[listing.LGA]],&nbsp;[[listing.region]]</p> 
                    <p class="status-label">Status</p>
                    <p class="status">[[listing.status]]</p>                   
                  </div>
                  <img src="[[listing.image]]" alt="[[listing.title]]">
                </div>
            </a>
         </template>
    </div>
    <div hidden$="[[!failure]]">
      <h3>Unable to get data. Please Refresh</h3>
    </div>
   </template>

  <script>
    Polymer({
      is: 'hikima-list',

      properties: {
        listingsCategory: Object,
        failure: Boolean,

        numListings: {
          type: Number,
          computed: '_computeNumListings(listingsCategory.items.splices)',
        }
      },

      _computeNumListings: function() {
        if (this.listingsCategory) {
            return this.listingsCategory.items.length;
        }
      }
    });
  </script>
</dom-module>
